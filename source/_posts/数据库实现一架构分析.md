---
title: 数据库实现一架构分析
date: 2024-8-10 15:31:00
tags:
---
## SQL数据库架构概述

数据库是用来将数据按照一定的结构进行存储，可以将数据进行持久化，并提供相应的接口，可以对数据进行查询，修改，删除，创建等操作。

关系数据库中使用了表，行，列的概念，行是一个对象的记录，列表示字段的类型，表由行和列组成，其中各个字段存在相应的关系，共同组成一个完整的记录。

数据库包括以下的几个关键组件：

### 解析器
SQL语句是一串文本，发送给服务端之后，服务端需要对这串文本进行解析，才能明白需要执行怎样的操作，
而解析器也分为了两部分，**词法分析和语法分析**，首先进行的是此法分析，分析每个词，将其解析为对应
的标识符 TOKEN ，并判断其合法性，之后语法分析拿到词法分析的结果，将 TOKEN 拼接为对应的语句，并判断
其语法的合法性，最后生成一个抽象语法树作为输出。

### 执行计划
执行计划通常使用树的结构进行表示，其中主要包含了执行时的各种操作。

### 优化器
优化器会根据执行计划生成的路径，选择最优的执行方案。优化器在保证结果正确的前提下，会尽可能的降低
查询的成本。

### 执行器
执行器负责执行执行计划的节点。

### 事务
事务是数据库中的重要概念，其中包含了一组数据库操作，这些操作要么全部执行成功，要么全部执行失败，
事务具备原子性，一致性，隔离性和持久性(ACID)。事务管理的组件会控制事务的提交，回滚等。

### 存储引擎
存储引擎是数据库内核中负责管理数据存储和检索的组件。它提供了将数据存储至磁盘，以及从磁盘读取数据
的接口。